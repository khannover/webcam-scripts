<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Webcam-scripts by khannover</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Webcam-scripts</h1>
          <h2>Grabbing public webcams and generating timelapse videos</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/khannover/webcam-scripts/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/khannover/webcam-scripts/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/khannover/webcam-scripts" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="webcam-scripts" class="anchor" href="#webcam-scripts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>webcam-scripts</h1>

<h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h2>

<p>To create videos you need to install avconv:</p>

<div class="highlight highlight-source-shell"><pre>sudo apt-get -y install libav-tools</pre></div>

<p>To create gifs you need imagemagick:</p>

<div class="highlight highlight-source-shell"><pre>sudo apt-get -y install imagemagick</pre></div>

<p>If you want to make a gif out of many images it can be that there is not enough ram to complete the convert job. That's why i changed to creating videos.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Create a cronjob for webcams.sh which runs every minute. For creating the timelapse videos you need to create a second cronjob, which may run once per day. If you add a path to a html file to webcams.sh it will create a html file with the timelapse-videos embedded.</p>

<p>Example:</p>

<div class="highlight highlight-source-shell"><pre>crontab -e
<span class="pl-k">*</span>/1 <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> /bin/bash /home/pi/scripts/webcams/webcams.sh /wwwroot/webcams/index.html
10 0 <span class="pl-k">*</span> <span class="pl-k">*</span> <span class="pl-k">*</span> /bin/bash /home/pi/scripts/webcams/makevideo.sh</pre></div>

<p>Inside the cams.cfg you can define the webcams you want to grab, e.g.:</p>

<div class="highlight highlight-source-shell"><pre>http://www2.braunschweig.de/webcam/burgplatz1.jpg 1,16,31,46 /var/www/webcams/burgplatz
http://www2.braunschweig.de/webcam/turm1.jpg 1,6,11,16,21,26,31,36,41,46,51,56 /var/www/webcams/rufaeutchenplatz
http://www2.braunschweig.de/webcam/schloss.jpg 0,10,20,30,40,50 /var/www/webcams/schloss</pre></div>

<p>The first column is the path to the image you want to grab periodically.
The second are the minutes of each hour you want to execute the download, seperated by comma.
The third one is the path where you want the images to be stored.</p>

<h2>
<a id="example-video" class="anchor" href="#example-video" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example Video</h2>

<p><a href="https://dl.dropboxusercontent.com/u/3059639/github/webcam-scripts/schloss-timelapse-160812.mp4">Example</a></p>

<p><a href="https://dl.dropboxusercontent.com/u/3059639/github/webcam-scripts/timelapse-schloss.mp4">Newest video of Schlossarkaden</a></p>

<p><a href="https://dl.dropboxusercontent.com/u/3059639/github/webcam-scripts/timelapse-burgplatz.mp4">Newest video of Burgplatz</a></p>
        </section>

        <footer>
          Webcam-scripts is maintained by <a href="https://github.com/khannover">khannover</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
